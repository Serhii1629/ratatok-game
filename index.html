<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RATATOK</title>

<style>
body {
  margin: 0;
  background: #0b0b0b;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

.screen { display: none; padding-top: 20px; }
.screen.active { display: block; }

h1 { margin: 10px 0; }

#ratBtn {
  width: 220px;
  height: 220px;
  border-radius: 30px;
  font-size: 100px;
  border: none;
  background: #ffcc00;
}

.stats { margin: 10px; font-size: 18px; }

.menu {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #111;
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
}

.menu button {
  background: none;
  border: none;
  color: white;
  font-size: 16px;
}

.card {
  background: #1c1c1c;
  margin: 10px;
  padding: 15px;
  border-radius: 12px;
}

.buy {
  background: #00c853;
  border: none;
  padding: 10px;
  width: 100%;
  font-size: 16px;
  border-radius: 10px;
}
</style>
</head>

<body>

<!-- GAME -->
<div id="game" class="screen active">
  <h1>üêÄ RATATOK</h1>
  <div class="stats">
    –£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span><br>
    –ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span>
  </div>
  <button id="ratBtn">üêÅ</button>
</div>

<!-- REFERRALS -->
<div id="refs" class="screen">
  <h1>üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</h1>
  <div class="card">
    –ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ: <b>0</b><br><br>
    <button class="buy" onclick="copyRef()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
  </div>
</div>

<!-- SHOP -->
<div id="shop" class="screen">
  <h1>üõí –ú–∞–≥–∞–∑–∏–Ω</h1>

  <div class="card">
    +1 –∑–∞ —Ç–∞–ø (50 –º–æ–Ω–µ—Ç)
    <button class="buy" onclick="buyTap()">–ö—É–ø–∏—Ç—å</button>
  </div>

  <div class="card">
    –ü–∞—Å—Å–∏–≤ +1/—Å–µ–∫ (100)
    <button class="buy" onclick="buyPassive()">–ö—É–ø–∏—Ç—å</button>
  </div>

  <div class="card">
    üîÆ –ö—É–ø–∏—Ç—å –∑–∞ TON (—Å–∫–æ—Ä–æ)
    <button class="buy" disabled>TON</button>
  </div>
</div>

<!-- MENU -->
<div class="menu">
  <button onclick="openScreen('game')">üéÆ –ò–≥—Ä–∞</button>
  <button onclick="openScreen('refs')">üë• –†–µ—Ñ—ã</button>
  <button onclick="openScreen('shop')">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
</div>

<script>
let coins = +localStorage.getItem('coins') || 0;
let level = +localStorage.getItem('level') || 1;
let tapPower = +localStorage.getItem('tapPower') || 1;
let passive = +localStorage.getItem('passive') || 0;

const coinsEl = document.getElementById('coins');
const levelEl = document.getElementById('level');
const ratBtn = document.getElementById('ratBtn');

function save() {
  localStorage.setItem('coins', coins);
  localStorage.setItem('level', level);
  localStorage.setItem('tapPower', tapPower);
  localStorage.setItem('passive', passive);
}

function updateUI() {
  coinsEl.textContent = coins;
  levelEl.textContent = level;
  ratBtn.textContent = level >= 5 ? "üêÄ" : "üêÅ";
}

let lastTap = 0;
ratBtn.onclick = () => {
  const now = Date.now();
  if (now - lastTap < 80) return; // –∞–Ω—Ç–∏—á–∏—Ç
  lastTap = now;

  coins += tapPower;
  if (coins >= level * 200) level++;
  save();
  updateUI();
};

setInterval(() => {
  coins += passive;
  save();
  updateUI();
}, 1000);

function buyTap() {
  if (coins >= 50) {
    coins -= 50;
    tapPower++;
    save();
  }
}

function buyPassive() {
  if (coins >= 100) {
    coins -= 100;
    passive++;
    save();
  }
}

function openScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function copyRef() {
  navigator.clipboard.writeText("https://t.me/ratatok_bot?start=ref123");
  alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞");
}

updateUI();
</script>

</body>
</html>
