<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>RATATOK</title>

<style>
body {
  background:#0e0e0e;
  color:white;
  font-family:Arial;
  margin:0;
}

.screen {
  display:none;
  text-align:center;
  padding-top:40px;
}

.active { display:block; }

#rat {
  width:170px;
  height:170px;
  background:gold;
  border-radius:30px;
  font-size:90px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:20px auto;
  user-select:none;
}

.menu {
  position:fixed;
  bottom:0;
  width:100%;
  background:#1a1a1a;
  display:flex;
  justify-content:space-around;
  padding:12px 0;
}

.menu button {
  background:none;
  border:none;
  color:white;
  font-size:16px;
}
</style>
</head>

<body>

<!-- 游 햊햅먫 -->
<div id="game" class="screen active">
  <h1 id="ratName">游 RAT</h1>
  <p>햒쮏쒫왏쫨: <span id="level">1</span></p>
  <p>햎쮏쫧왐혦: <span id="coins">0</span></p>
  <div id="rat">游</div>
</div>

<!-- 游논 먫돯뱷돯먫냻햚 -->
<div id="refs" class="screen">
  <h1>游논 먫왐햣햟햩혦</h1>
  <p>햦햡햩햟혣햟햧 햢혞향햣햧 햦 쮏혞혢햟햧 햠쮏쫨혜혦</p>
  <p id="refLink"></p>
</div>

<!-- 游 햎햃햅햃행햊햏 -->
<div id="shop" class="screen">
  <h1>游 햎햟햡햟향햦햫</h1>
  <button onclick="upgrade()">+1 햨 혝햟혞 (100)</button>
  <p id="shopInfo"></p>
</div>

<!-- 햎햇햏햝 -->
<div class="menu">
  <button onclick="openScreen('game')">游 햊햡햟</button>
  <button onclick="openScreen('refs')">游논 먫왐혦</button>
  <button onclick="openScreen('shop')">游 햎햟햡햟향햦햫</button>
</div>

<script>
let coins = Number(localStorage.getItem("coins")) || 0;
let tapPower = Number(localStorage.getItem("tapPower")) || 1;

const coinsEl = document.getElementById("coins");
const levelEl = document.getElementById("level");
const ratEl = document.getElementById("rat");
const ratName = document.getElementById("ratName");

coinsEl.textContent = coins;

// 游 햒먫뤯뉋뢇
function getLevel(c) {
  if (c >= 5000) return {lvl:5, rat:"游낼", name:"DRAGON RAT"};
  if (c >= 1500) return {lvl:4, rat:"游", name:"LEGEND RAT"};
  if (c >= 500)  return {lvl:3, rat:"游냧", name:"GOLD RAT"};
  if (c >= 100)  return {lvl:2, rat:"游내", name:"FAST RAT"};
  return {lvl:1, rat:"游", name:"START RAT"};
}

function updateLevel() {
  const data = getLevel(coins);
  levelEl.textContent = data.lvl;
  ratEl.textContent = data.rat;
  ratName.textContent = data.rat + " " + data.name;
}

// 游 햑햃
ratEl.addEventListener("touchstart", (e)=>{
  e.preventDefault();
  coins += tapPower;
  coinsEl.textContent = coins;
  localStorage.setItem("coins", coins);
  updateLevel();
});

// 游 햎햃햅햃행햊햏
function upgrade() {
  if (coins >= 100) {
    coins -= 100;
    tapPower++;
    localStorage.setItem("coins", coins);
    localStorage.setItem("tapPower", tapPower);
    coinsEl.textContent = coins;
    document.getElementById("shopInfo").textContent = "햒햩혞혢혣햣햫!";
    updateLevel();
  } else {
    document.getElementById("shopInfo").textContent = "햏햣 혠쒫썜햟햣혝 햪쮏쫧왐";
  }
}

// 游대 햜햌먫냻뢇
function openScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// 游논 먫돯뱷돯먫냻
const uid = Math.floor(Math.random()*999999);
document.getElementById("refLink").textContent =
"https://t.me/Ratatok_bot?start=" + uid;

updateLevel();
</script>

</body>
</html>
