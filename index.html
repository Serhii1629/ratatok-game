<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RATATOK NFT PRO</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#0b0b0f;color:#fff;font-family:Arial,sans-serif}
#top{display:flex;justify-content:space-around;padding:10px;background:#111}
#rat-wrap{display:flex;justify-content:center;align-items:center;height:40vh}
#rat{width:220px;height:220px;font-size:100px;text-align:center;line-height:220px;cursor:pointer;transition:transform .1s;}
#rat:active{transform:scale(1.1)}
#menu{position:fixed;bottom:0;width:100%;display:flex}
button{flex:1;padding:14px;background:#1c1c28;border:none;color:#fff;font-size:14px;cursor:pointer}
button:active{background:#333}
.panel{position:fixed;bottom:52px;width:100%;max-height:50vh;background:#14141c;overflow:auto;padding:10px;display:none}
.card{background:#1e1e2c;padding:10px;border-radius:10px;margin-bottom:8px}
.card button{width:100%;padding:6px;border:none;border-radius:6px;background:#2c2c44;color:#fff}
.card button:disabled{opacity:.4}
.legendary{border:2px solid gold;box-shadow:0 0 10px gold}
.rare{border:2px solid #3b82f6}
.common{border:2px solid #555}
.nft{background:#1e1e2c;border-radius:12px;padding:10px;text-align:center;margin-bottom:8px}
</style>
</head>
<body>

<div id="top">
  <div>ğŸ’° <span id="coins">0</span></div>
  <div>âš¡ <span id="energy">100</span></div>
  <div>ğŸ­ <span id="ratName">Ğ¡ĞµÑ€Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°</span></div>
</div>

<div id="rat-wrap">
  <div id="rat">ğŸ­</div>
</div>

<div id="shop" class="panel">
  <h3>ğŸ›’ ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½</h3>
  <div id="shopCards"></div>
</div>

<div id="cardsPanel" class="panel">
  <h3>ğŸƒ ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸</h3>
  <div id="cards"></div>
</div>

<div id="nftPanel" class="panel">
  <h3>ğŸ–¼ NFT ĞĞ°Ğ³Ñ€Ğ°Ğ´Ñ‹</h3>
  <div id="nfts"></div>
</div>

<div id="refPanel" class="panel">
  <h3>ğŸ”— Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑÑ‹Ğ»ĞºĞ°</h3>
  <input type="text" id="refLink" readonly style="width:100%;padding:6px;border-radius:6px;border:none;background:#2c2c44;color:#fff">
  <button onclick="claimReferral()">ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ AirDrop</button>
</div>

<div id="menu">
  <button onclick="hidePanels()">ğŸ®</button>
  <button onclick="show('shop')">ğŸ›’</button>
  <button onclick="show('cardsPanel')">ğŸƒ</button>
  <button onclick="show('nftPanel')">ğŸ–¼</button>
  <button onclick="show('refPanel')">ğŸ”—</button>
</div>

<script>
// â”€â”€â”€ Ğ”ĞĞĞĞ«Ğ• â”€â”€â”€
const RATS=[
 {name:"Ğ¡ĞµÑ€Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°", icon:"ğŸ­", need:0},
 {name:"Ğ§Ñ‘Ñ€Ğ½Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°", icon:"ğŸ–¤", need:1000},
 {name:"Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°", icon:"ğŸ€", need:10000},
 {name:"Ğ”ĞµĞ¼Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºÑ€Ñ‹ÑĞ°", icon:"ğŸ‘¹", need:100000},
 {name:"Ğ‘Ğ¾Ğ³ ĞºÑ€Ñ‹ÑÑ‹", icon:"ğŸ‘‘", need:1000000}
];

const SHOP=[
 {id:1,name:"Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ +100",type:"energy",value:100,price:50,rarity:"common"},
 {id:2,name:"ĞĞ²Ñ‚Ğ¾ĞºĞ»Ğ¸ĞºĞµÑ€ +1/ÑĞµĞº",type:"auto",value:1,price:200,rarity:"rare"}
];

const CARDS=[
 {id:1,name:"+1 Ğ·Ğ° Ñ‚Ğ°Ğ¿",tap:1,price:100,rarity:"common"},
 {id:2,name:"+5 Ğ·Ğ° Ñ‚Ğ°Ğ¿",tap:5,price:500,rarity:"rare"},
 {id:3,name:"+15 Ğ¿Ğ°ÑÑĞ¸Ğ²Ğ½Ğ¾/ÑĞµĞº",passive:15,price:2000,rarity:"legendary"},
 {id:4,name:"+50 Ğ¿Ğ°ÑÑĞ¸Ğ²Ğ½Ğ¾/ÑĞµĞº",passive:50,price:10000,rarity:"legendary"}
];

const NFTS=[
 {id:1,name:"NFT Ğ¡ĞµÑ€Ğ°Ñ",img:"https://i.imgur.com/2yaf2wb.png",unlock:1000},
 {id:2,name:"NFT Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ",img:"https://i.imgur.com/m7YQZ9Z.png",unlock:10000},
 {id:3,name:"NFT Ğ”ĞµĞ¼Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ",img:"https://i.imgur.com/8QfZKkL.png",unlock:100000}
];

// â”€â”€â”€ Ğ¡ĞĞ¡Ğ¢ĞĞ¯ĞĞ˜Ğ• â”€â”€â”€
let state=JSON.parse(localStorage.getItem("ratatok"))||{
 coins:0,
 energy:100,
 tap:1,
 auto:0,
 passive:0,
 taps:0,
 cards:{},
 nfts:[],
 refClaimed:false
};

// â”€â”€â”€ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ â”€â”€â”€
function save(){localStorage.setItem("ratatok",JSON.stringify(state));}

// â”€â”€â”€ UI â”€â”€â”€
const coins=document.getElementById("coins");
const energy=document.getElementById("energy");
const ratName=document.getElementById("ratName");
const ratEl=document.getElementById("rat");
const shopCards=document.getElementById("shopCards");
const cardsDiv=document.getElementById("cards");
const nftsDiv=document.getElementById("nfts");
const refLinkInput=document.getElementById("refLink");

function updateUI(){
 coins.textContent=state.coins;
 energy.textContent=state.energy;

 // ĞšÑ€Ñ‹ÑĞ° Ğ¿Ğ¾ Ñ‚Ğ°Ğ¿Ğ°Ğ¼
 let current=RATS[0];
 RATS.forEach(r=>{if(state.taps>=r.need) current=r});
 ratEl.textContent=current.icon;
 ratName.textContent=current.name;

 // NFT
 renderNFTs();

 // Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑÑ‹Ğ»ĞºĞ°
 if(!localStorage.getItem("ref")) localStorage.setItem("ref","me");
 refLinkInput.value=window.location.href+"?ref="+localStorage.getItem("ref");

 save();
}

// â”€â”€â”€ TAP â”€â”€â”€
ratEl.onclick=()=>{
 if(state.energy<=0) return;
 state.energy--;
 state.coins+=state.tap;
 state.taps++;
 updateUI();
};

// â”€â”€â”€ ĞĞ’Ğ¢ĞĞšĞ›Ğ˜ĞšĞ•Ğ  / ĞŸĞĞ¡Ğ¡Ğ˜Ğ’ĞĞĞ• Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ â”€â”€â”€
setInterval(()=>{
 state.coins+=state.auto + state.passive;
 updateUI();
},1000);

// â”€â”€â”€ ĞœĞĞ“ĞĞ—Ğ˜Ğ â”€â”€â”€
function renderShop(){
 shopCards.innerHTML="";
 SHOP.forEach(item=>{
  shopCards.innerHTML+=`
  <div class="card ${item.rarity}">
    <b>${item.name}</b><br>
    Ğ¦ĞµĞ½Ğ°: ${item.price} ğŸ’°<br>
    <button onclick="buyShop(${item.id})" ${state.coins<item.price?"disabled":""}>ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ</button>
  </div>`;
 });
}
function buyShop(id){
 const item=SHOP.find(x=>x.id===id);
 if(state.coins<item.price) return;
 state.coins-=item.price;
 if(item.type=="energy") state.energy+=item.value;
 if(item.type=="auto") state.auto+=item.value;
 renderShop();updateUI();
}
renderShop();

// â”€â”€â”€ ĞšĞĞ Ğ¢ĞĞ§ĞšĞ˜ â”€â”€â”€
function renderCards(){
 cardsDiv.innerHTML="";
 CARDS.forEach(c=>{
  const lvl=state.cards[c.id]||0;
  const price=c.price*(lvl+1);
  cardsDiv.innerHTML+=`
  <div class="card ${c.rarity}">
    <b>${c.name}</b><br>
    ${c.tap?`+${c.tap} Ğ·Ğ° Ñ‚Ğ°Ğ¿`:`+${c.passive}/ÑĞµĞº`} â€¢ ÑƒÑ€ ${lvl}<br>
    <button onclick="buyCard(${c.id})" ${state.coins<price?"disabled":""}>ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ (${price}ğŸ’°)</button>
  </div>`;
 });
}
function buyCard(id){
 const c=CARDS.find(x=>x.id===id);
 const lvl=state.cards[id]||0;
 const price=c.price*(lvl+1);
 if(state.coins<price) return;
 state.coins-=price;
 state.cards[id]=lvl+1;
 if(c.tap) state.tap+=c.tap;
 if(c.passive) state.passive+=c.passive;
 renderCards();updateUI();
}
renderCards();

// â”€â”€â”€ NFT â”€â”€â”€
function renderNFTs(){
 nftsDiv.innerHTML="";
 NFTS.forEach(n=>{
  if(state.taps>=n.unlock && !state.nfts.includes(n.id)) state.nfts.push(n.id);
 });
 state.nfts.forEach(id=>{
  const n=NFTS.find(x=>x.id===id);
  nftsDiv.innerHTML+=`
  <div class="nft">
    <img src="${n.img}" width="80"><br>${n.name}
  </div>`;
 });
}

// â”€â”€â”€ AirDrop Ñ‡ĞµÑ€ĞµĞ· Ñ€ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½ÑƒÑ ÑÑÑ‹Ğ»ĞºÑƒ â”€â”€â”€
function claimReferral(){
 const urlParams=new URLSearchParams(window.location.search);
 const ref=urlParams.get("ref");
 if(ref && !state.refClaimed){
  state.coins+=500; // Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ğ° Ğ·Ğ° Ñ€ĞµÑ„ĞµÑ€Ğ°Ğ»Ğ°
  state.refClaimed=true;
  alert("AirDrop Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½! +500 ğŸ’°");
  updateUI();
} else alert("AirDrop ÑƒĞ¶Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑ‚ ÑÑÑ‹Ğ»ĞºĞ¸");
}

// â”€â”€â”€ ĞŸĞĞĞ•Ğ›Ğ˜ â”€â”€â”€
function show(id){document.querySelectorAll(".panel").forEach(p=>p.style.display="none");document.getElementById(id).style.display="block"}
function hidePanels(){document.querySelectorAll(".panel").forEach(p=>p.style.display="none")}

updateUI();
</script>
</body>
</html>
