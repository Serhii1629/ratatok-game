<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RATATOK</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#0b0b0f;
  color:#fff;
  font-family:Arial,sans-serif;
}
#top{
  display:flex;
  justify-content:space-around;
  padding:10px;
  background:#111;
}
#game{
  height:40vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
#rat{
  width:220px;
  height:220px;
  background-size:contain;
  background-repeat:no-repeat;
  background-position:center;
  transition:transform .1s;
}
#rat:active{transform:scale(1.08)}

#menu{
  position:fixed;
  bottom:0;
  width:100%;
  display:flex;
}
button{
  flex:1;
  padding:14px;
  background:#1c1c28;
  border:none;
  color:#fff;
  font-size:14px;
}
button:active{background:#333}

.panel{
  position:fixed;
  bottom:52px;
  width:100%;
  max-height:50vh;
  background:#14141c;
  overflow:auto;
  padding:10px;
  display:none;
}
.card{
  background:#1e1e2c;
  padding:10px;
  border-radius:10px;
  margin-bottom:8px;
}
</style>
</head>

<body>

<div id="top">
  <div>ğŸ’° <span id="coins">0</span></div>
  <div>âš¡ <span id="energy">100</span></div>
  <div>ğŸ­ <span id="ratName">Ğ¡ĞµÑ€Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°</span></div>
</div>

<div id="game">
  <div id="rat"></div>
</div>

<div id="shop" class="panel">
  <h3>ğŸ›’ ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½</h3>

  <div class="card">
    âš¡ Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ +100<br>
    Ğ¦ĞµĞ½Ğ°: 50 ğŸ’°<br>
    <button onclick="buyEnergy()">ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ</button>
  </div>

  <div class="card">
    ğŸ¤– ĞĞ²Ñ‚Ğ¾ĞºĞ»Ğ¸ĞºĞµÑ€ +1/ÑĞµĞº<br>
    Ğ¦ĞµĞ½Ğ°: 200 ğŸ’°<br>
    <button onclick="buyAuto()">ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ</button>
  </div>
</div>

<div id="cards" class="panel">
  <h3>ğŸƒ ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸</h3>

  <div class="card">
    +1 Ğ·Ğ° Ñ‚Ğ°Ğ¿<br>
    Ğ¦ĞµĞ½Ğ°: 100 ğŸ’°<br>
    <button onclick="buyTap()">ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ</button>
  </div>

  <div class="card">
    +5 Ğ·Ğ° Ñ‚Ğ°Ğ¿<br>
    Ğ¦ĞµĞ½Ğ°: 500 ğŸ’°<br>
    <button onclick="buyBigTap()">ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ</button>
  </div>
</div>

<div id="menu">
  <button onclick="hide()">ğŸ®</button>
  <button onclick="show('shop')">ğŸ›’</button>
  <button onclick="show('cards')">ğŸƒ</button>
</div>

<script>
const rats=[
 {name:"Ğ¡ĞµÑ€Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°", img:"https://i.imgur.com/2yaf2wb.png", need:0},
 {name:"Ğ§Ñ‘Ñ€Ğ½Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°", img:"https://i.imgur.com/6X6Jv6s.png", need:1000},
 {name:"Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ ĞºÑ€Ñ‹ÑĞ°", img:"https://i.imgur.com/m7YQZ9Z.png", need:10000},
 {name:"Ğ”ĞµĞ¼Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºÑ€Ñ‹ÑĞ°", img:"https://i.imgur.com/8QfZKkL.png", need:100000},
 {name:"Ğ‘Ğ¾Ğ³ ĞºÑ€Ñ‹ÑÑ‹", img:"https://i.imgur.com/1u0LQGx.png", need:1000000}
];

let state=JSON.parse(localStorage.getItem("ratatok")) || {
 coins:0,
 energy:100,
 tap:1,
 auto:0,
 taps:0
};

const ratEl=document.getElementById("rat");
const ratName=document.getElementById("ratName");

function save(){
 localStorage.setItem("ratatok",JSON.stringify(state));
}

function update(){
 coins.textContent=state.coins;
 energy.textContent=state.energy;

 let current=rats[0];
 rats.forEach(r=>{
  if(state.taps>=r.need) current=r;
 });
 ratEl.style.backgroundImage=`url(${current.img})`;
 ratName.textContent=current.name;

 save();
}

ratEl.onclick=()=>{
 if(state.energy<=0) return;
 state.energy--;
 state.coins+=state.tap;
 state.taps++;
 update();
};

function buyEnergy(){
 if(state.coins<50) return;
 state.coins-=50;
 state.energy+=100;
 update();
}

function buyAuto(){
 if(state.coins<200) return;
 state.coins-=200;
 state.auto++;
 update();
}

function buyTap(){
 if(state.coins<100) return;
 state.coins-=100;
 state.tap+=1;
 update();
}

function buyBigTap(){
 if(state.coins<500) return;
 state.coins-=500;
 state.tap+=5;
 update();
}

setInterval(()=>{
 state.coins+=state.auto;
 update();
},1000);

function show(id){
 document.querySelectorAll(".panel").forEach(p=>p.style.display="none");
 document.getElementById(id).style.display="block";
}
function hide(){
 document.querySelectorAll(".panel").forEach(p=>p.style.display="none");
}

update();
</script>

</body>
</html>
