<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>RATATOK</title>

<style>
body {
  background: #0f0f0f;
  color: white;
  font-family: Arial, sans-serif;
  margin: 0;
}

.screen {
  display: none;
  text-align: center;
  padding-top: 40px;
}

.active {
  display: block;
}

#rat {
  width: 160px;
  height: 160px;
  background: gold;
  border-radius: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 80px;
  margin: 20px auto;
  user-select: none;
}

/* 햏햦햤햫햣햣 햪햣햫혩 */
.menu {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #1a1a1a;
  display: flex;
  justify-content: space-around;
  padding: 12px 0;
}

.menu button {
  background: none;
  border: none;
  color: white;
  font-size: 16px;
}
</style>
</head>

<body>

<!-- 游 햊햅먫 -->
<div id="game" class="screen active">
  <h1>游 RATATOK</h1>
  <div>햎쮏쫧왐혦: <span id="coins">0</span></div>
  <div id="rat">游</div>
</div>

<!-- 游논 먫돯뱷돯먫냻햚 -->
<div id="refs" class="screen">
  <h1>游논 먫왐햣햟햩혦</h1>
  <p>햦햡햩햟혜햦 햢혞향햣햧 햦 쮏혞혢햟햧 햠쮏쫨혜혦</p>
  <p><b>햑쒫쮐 혜혜혦햩햨햟:</b></p>
  <p id="refLink"></p>
</div>

<!-- 游 햎햃햅햃행햊햏 -->
<div id="shop" class="screen">
  <h1>游 햎햟햡햟향햦햫</h1>
  <button onclick="buy()">+1 햨 혝햟혞 (100 햪쮏쫧왐)</button>
  <p id="shopInfo"></p>
</div>

<!-- 游댷 햏햊했햏햇햇 햎햇햏햝 -->
<div class="menu">
  <button onclick="openScreen('game')">游 햊햡햟</button>
  <button onclick="openScreen('refs')">游논 먫왐혦</button>
  <button onclick="openScreen('shop')">游 햎햟햡햟향햦햫</button>
</div>

<script>
let coins = parseInt(localStorage.getItem("coins")) || 0;
let tapPower = parseInt(localStorage.getItem("tapPower")) || 1;
let lastTap = 0;

const coinsEl = document.getElementById("coins");
const rat = document.getElementById("rat");

coinsEl.textContent = coins;

// 游 햑햃
rat.addEventListener("touchstart", (e) => {
  e.preventDefault();
  const now = Date.now();
  if (now - lastTap < 150) return;
  lastTap = now;

  coins += tapPower;
  coinsEl.textContent = coins;
  localStorage.setItem("coins", coins);
});

// 游대 햇먫돯뛣햝햖햇햏햊햇 햜햌먫냻뢇뤯
function openScreen(name) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(name).classList.add("active");
}

// 游논 먫돯뱷돯먫냻햌햃
const userId = Math.floor(Math.random() * 1000000);
const refLink = `https://t.me/Ratatok_bot?start=${userId}`;
document.getElementById("refLink").textContent = refLink;

// 游 햎햃햅햃행햊햏
function buy() {
  if (coins >= 100) {
    coins -= 100;
    tapPower++;
    coinsEl.textContent = coins;
    document.getElementById("shopInfo").textContent = "햒햩혞혢혣햣햫!";
    localStorage.setItem("coins", coins);
    localStorage.setItem("tapPower", tapPower);
  } else {
    document.getElementById("shopInfo").textContent = "햏햣 혠쒫썜햟햣혝 햪쮏쫧왐";
  }
}
</script>

</body>
</html>
