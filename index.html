<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RATATOK</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Roboto;user-select:none}
body{background:#000;color:#fff;height:100vh;overflow:hidden}

/* HEADER */
.header{text-align:center;padding:18px}
.header h1{font-size:26px;font-weight:700}
.stats{margin-top:6px;font-size:16px;opacity:.9}

/* SECTIONS */
.section{display:none;height:calc(100vh - 180px)}
.section.active{display:flex;flex-direction:column;align-items:center;justify-content:center}

/* TAP */
#tapArea{
width:280px;
height:280px;
background:#ffd400;
border-radius:48px;
display:flex;
align-items:center;
justify-content:center;
box-shadow:0 0 60px rgba(255,212,0,.4)
}
#tapArea:active{filter:brightness(1.04)}
#tapArea img{width:180px;height:180px;pointer-events:none}

/* CONTENT */
.content{padding:22px;text-align:center;font-size:18px}

/* BUTTONS */
.big-btn{
margin-top:16px;
padding:16px 26px;
border:none;
border-radius:18px;
background:#ffd400;
font-size:18px;
font-weight:600;
}

/* MENU */
.menu{
position:fixed;
bottom:0;
width:100%;
background:#0e0e0e;
display:flex;
justify-content:space-around;
padding:14px 0;
border-top:1px solid #222
}
.menu button{
background:none;
border:none;
color:#777;
font-size:22px;
padding:14px 24px;
border-radius:18px
}
.menu button.active{
background:#1a1a1a;
color:#ffd400
}

/* LANGUAGE */
.lang{
position:fixed;
top:14px;
right:14px;
background:#1a1a1a;
padding:8px 12px;
border-radius:14px;
font-size:14px
}
</style>
</head>

<body>

<div class="lang" onclick="toggleLang()">üåç <span id="lang">RU</span></div>

<div class="header">
<h1 id="ratName">üêÄ BASIC RAT</h1>
<div class="stats">
<span id="lvlTxt">–£—Ä–æ–≤–µ–Ω—å</span>: <span id="level">1</span> |
<span id="coinTxt">–ú–æ–Ω–µ—Ç—ã</span>: <span id="coins">0</span>
</div>
</div>

<!-- GAME -->
<div class="section active" id="game">
<div id="tapArea"><img id="ratImg"></div>
</div>

<!-- REF -->
<div class="section" id="ref">
<div class="content">
<h2 id="refTitle">üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</h2>
<p id="refDesc">–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π –±–æ–Ω—É—Å—ã</p>
<p style="margin-top:10px;color:#ffd400;word-break:break-all">
t.me/your_bot?start=RAT123
</p>
</div>
</div>

<!-- SHOP -->
<div class="section" id="shop">
<div class="content">
<h2 id="shopTitle">üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
<p id="shopDesc">–£—Å–∏–ª–µ–Ω–∏–µ —Ç–∞–ø–∞</p>
<button class="big-btn" onclick="buyBoost()">+1 TAP (100)</button>
<p style="margin-top:12px;opacity:.6">TON ‚Äî —Å–∫–æ—Ä–æ</p>
</div>
</div>

<!-- AIRDROP -->
<div class="section" id="air">
<div class="content">
<h2>üéÅ Airdrop</h2>
<p>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–¥–∞—á–µ —Ç–æ–∫–µ–Ω–æ–≤</p>
<p style="opacity:.6;margin-top:10px">–ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</p>
</div>
</div>

<div class="menu">
<button class="active" onclick="openTab('game',this)">üêÄ</button>
<button onclick="openTab('ref',this)">üë•</button>
<button onclick="openTab('shop',this)">üõí</button>
<button onclick="openTab('air',this)">üéÅ</button>
</div>

<script>
Telegram.WebApp.ready();
Telegram.WebApp.expand();

/* DATA */
const rats=[
{n:{ru:"BASIC RAT",en:"BASIC RAT"},i:"https://em-content.zobj.net/source/apple/354/rat_1f400.png"},
{n:{ru:"FAST RAT",en:"FAST RAT"},i:"https://em-content.zobj.net/source/apple/354/mouse_1f401.png"},
{n:{ru:"GOLD RAT",en:"GOLD RAT"},i:"https://em-content.zobj.net/source/apple/354/hamster_1f439.png"}
];

let coins=+localStorage.getItem("coins")||0;
let level=+localStorage.getItem("level")||1;
let power=+localStorage.getItem("power")||1;
let lang=localStorage.getItem("lang")||"ru";
let lastTap=0;

/* UI */
const coinsEl=coinsTxt= document.getElementById("coins");
const levelEl=document.getElementById("level");
const ratImg=document.getElementById("ratImg");
const ratName=document.getElementById("ratName");

function updateRat(){
let i=Math.min(rats.length-1,Math.floor((level-1)/2));
ratImg.src=rats[i].i;
ratName.innerHTML="üêÄ "+rats[i].n[lang];
}
function save(){
localStorage.setItem("coins",coins);
localStorage.setItem("level",level);
localStorage.setItem("power",power);
}

/* TAP + ANTICHEAT */
tapArea.onclick=()=>{
let now=Date.now();
if(now-lastTap<120) return;
lastTap=now;

coins+=power;
if(coins%50===0){level++;updateRat()}
save();
coinsEl.textContent=coins;
levelEl.textContent=level;
Telegram.WebApp.HapticFeedback.impactOccurred("light");
};

/* SHOP */
function buyBoost(){
if(coins>=100){
coins-=100;
power++;
save();
coinsEl.textContent=coins;
alert("–£—Å–∏–ª–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–æ");
}else alert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–æ–Ω–µ—Ç");
}

/* MENU */
function openTab(id,b){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll(".menu button").forEach(x=>x.classList.remove("active"));
b.classList.add("active");
}

/* LANG */
function toggleLang(){
lang=lang==="ru"?"en":"ru";
localStorage.setItem("lang",lang);
document.getElementById("lang").textContent=lang.toUpperCase();
document.getElementById("lvlTxt").textContent=lang==="ru"?"–£—Ä–æ–≤–µ–Ω—å":"Level";
document.getElementById("coinTxt").textContent=lang==="ru"?"–ú–æ–Ω–µ—Ç—ã":"Coins";
document.getElementById("refTitle").textContent=lang==="ru"?"üë• –†–µ—Ñ–µ—Ä–∞–ª—ã":"üë• Referrals";
document.getElementById("refDesc").textContent=lang==="ru"?"–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π":"Invite friends";
document.getElementById("shopTitle").textContent=lang==="ru"?"üõí –ú–∞–≥–∞–∑–∏–Ω":"üõí Shop";
document.getElementById("shopDesc").textContent=lang==="ru"?"–£—Å–∏–ª–µ–Ω–∏–µ —Ç–∞–ø–∞":"Tap boost";
updateRat();
}

/* INIT */
coinsEl.textContent=coins;
levelEl.textContent=level;
updateRat();
document.getElementById("lang").textContent=lang.toUpperCase();
</script>

</body>
</html>
