<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RATATOK</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Roboto;user-select:none}
body{background:#000;color:#fff;height:100vh;overflow:hidden}

/* HEADER */
.header{text-align:center;padding:18px}
.header h1{font-size:26px;font-weight:700}
.stats{margin-top:6px;font-size:16px;opacity:.9}

/* SECTIONS */
.section{display:none;height:calc(100vh - 190px)}
.section.active{display:flex;flex-direction:column;align-items:center;justify-content:center}

/* TAP */
#tapArea{
width:280px;height:280px;
background:#ffd400;border-radius:48px;
display:flex;align-items:center;justify-content:center;
box-shadow:0 0 60px rgba(255,212,0,.4)
}
#tapArea:active{filter:brightness(1.04)}
#tapArea img{width:180px;height:180px;pointer-events:none}

/* CONTENT */
.content{padding:22px;text-align:center;font-size:18px}

/* BUTTONS */
.big-btn{
margin-top:16px;padding:16px 26px;
border:none;border-radius:18px;
background:#ffd400;font-size:18px;font-weight:600
}

/* MENU */
.menu{
position:fixed;bottom:0;width:100%;
background:#0e0e0e;
display:flex;justify-content:space-around;
padding:14px 0;border-top:1px solid #222
}
.menu button{
background:none;border:none;
color:#777;font-size:22px;
padding:14px 24px;border-radius:18px
}
.menu button.active{
background:#1a1a1a;color:#ffd400
}

/* LANGUAGE */
.lang{
position:fixed;top:14px;right:14px;
background:#1a1a1a;padding:8px 12px;
border-radius:14px;font-size:14px
}
</style>
</head>

<body>

<div class="lang" onclick="toggleLang()">üåç <span id="lang">RU</span></div>

<div class="header">
<h1 id="ratName">üêÄ RATATOK</h1>
<div class="stats">
<span id="lvlTxt">–£—Ä–æ–≤–µ–Ω—å</span>: <span id="level">1</span> |
<span id="coinTxt">–û—á–∫–∏</span>: <span id="coins">0</span>
</div>
</div>

<!-- GAME -->
<div class="section active" id="game">
<div id="tapArea"><img id="ratImg"></div>
</div>

<!-- SHOP -->
<div class="section" id="shop">
<div class="content">
<h2>üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
<p>+1 –æ—á–∫–æ –∑–∞ —Ç–∞–ø</p>
<button class="big-btn" onclick="buyBoost()">–ö—É–ø–∏—Ç—å (100)</button>
<p style="opacity:.6;margin-top:10px">TON ‚Äî —Å–∫–æ—Ä–æ</p>
</div>
</div>

<!-- REF -->
<div class="section" id="ref">
<div class="content">
<h2>üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</h2>
<p>–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π</p>
<p style="margin-top:10px;color:#ffd400;word-break:break-all">
t.me/your_bot?start=RATATOK
</p>
</div>
</div>

<!-- AIRDROP -->
<div class="section" id="air">
<div class="content">
<h2>üéÅ AIRDROP RATATOK</h2>
<p>–¢–≤–æ–∏ airdrop points:</p>
<h1 id="air">0</h1>
<p style="opacity:.7;margin-top:10px">
–û—á–∫–∏ ‚Üí RATATOK –ø–æ—Å–ª–µ —Å–Ω–∞–ø—à–æ—Ç–∞
</p>
</div>
</div>

<div class="menu">
<button class="active" onclick="openTab('game',this)">üêÄ</button>
<button onclick="openTab('shop',this)">üõí</button>
<button onclick="openTab('ref',this)">üë•</button>
<button onclick="openTab('air',this)">üéÅ</button>
</div>

<script>
Telegram.WebApp.ready();
Telegram.WebApp.expand();

/* DATA */
const rats=[
{n:"RATATOK",i:"https://em-content.zobj.net/source/apple/354/rat_1f400.png"},
{n:"FAST RATATOK",i:"https://em-content.zobj.net/source/apple/354/mouse_1f401.png"},
{n:"GOLD RATATOK",i:"https://em-content.zobj.net/source/apple/354/hamster_1f439.png"}
];

let coins=+localStorage.getItem("coins")||0;
let level=+localStorage.getItem("level")||1;
let power=+localStorage.getItem("power")||1;
let air=+localStorage.getItem("air")||0;
let lang=localStorage.getItem("lang")||"ru";
let lastTap=0;

/* ELEMENTS */
const coinsEl=document.getElementById("coins");
const levelEl=document.getElementById("level");
const airEl=document.getElementById("air");
const ratImg=document.getElementById("ratImg");
const ratName=document.getElementById("ratName");

function updateRat(){
let i=Math.min(rats.length-1,Math.floor((level-1)/2));
ratImg.src=rats[i].i;
ratName.textContent="üêÄ "+rats[i].n;
}

function save(){
localStorage.setItem("coins",coins);
localStorage.setItem("level",level);
localStorage.setItem("power",power);
localStorage.setItem("air",air);
}

/* TAP + ANTICHEAT */
tapArea.onclick=()=>{
let now=Date.now();
if(now-lastTap<120)return;
lastTap=now;

coins+=power;
air+=power;

if(coins%50===0){level++;updateRat()}
save();

coinsEl.textContent=coins;
levelEl.textContent=level;
airEl.textContent=air;

Telegram.WebApp.HapticFeedback.impactOccurred("light");
};

/* SHOP */
function buyBoost(){
if(coins>=100){
coins-=100;
power++;
save();
coinsEl.textContent=coins;
alert("–£—Å–∏–ª–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–æ");
}else alert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –æ—á–∫–æ–≤");
}

/* MENU */
function openTab(id,b){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll(".menu button").forEach(x=>x.classList.remove("active"));
b.classList.add("active");
}

/* LANG */
function toggleLang(){
lang=lang==="ru"?"en":"ru";
localStorage.setItem("lang",lang);
document.getElementById("lang").textContent=lang.toUpperCase();
document.getElementById("lvlTxt").textContent=lang==="ru"?"–£—Ä–æ–≤–µ–Ω—å":"Level";
document.getElementById("coinTxt").textContent=lang==="ru"?"–û—á–∫–∏":"Points";
}

/* INIT */
coinsEl.textContent=coins;
levelEl.textContent=level;
airEl.textContent=air;
document.getElementById("lang").textContent=lang.toUpperCase();
updateRat();
</script>

</body>
</html>
